<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="C++ API" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" lang="en-us" xml:lang="en-us" MadCap:PathToHelpSystem="../../" MadCap:HelpSystemFileName="Default.xml" MadCap:SearchType="Stem">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Error Handling</title>
        <link rel="icon" type="image/png" href="http://docs.raima.com/favicon.png" />
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/raima.css" rel="stylesheet" />
        <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="../../Default_CSH.htm#CPPUG/cpp-error.htm" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="dbCPP.htm">C++ API</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Error Handling</span>
        </div>
        <h1><a MadCap:generatedBookmark="TOC" name="Error_Handling"></a>Error Handling</h1>
        <p>Very simple applications can get away without any error handling, if an error occurs an exception will be thrown and the application will terminate.  For non-trivial applications this approach is not appropriate, the application needs to check for errors and take appropriate actions when errors are detected.</p>
        <p>In the <span class="MyVariablesProductShortName">RDM</span> C++ interface there are two kinds of errors, expected errors and unexpected errors.  Expected errors come from the use of the C++ API and an application must be coded to handle them.  An example of an expected error is the inability to start a 'write transaction' because of locking contention.  Only one thread is allowed to have a write transaction for a specific table, so an application that is requesting a write transaction must expect that their request may timeout and an error will occur.  In this case the application may want to write some information out to a log file and then attempt to restart the transactions.  Unexpected errors are more difficult to handle and may require the program to terminate.  This would be the case if the application runs out of memory or if a database is corrupted due to a hardware error or software bug.</p>
        <h2><a MadCap:generatedBookmark="TOC" name="Exceptions"></a>Exceptions</h2>
        <p>Error handling in the C++ interface is done through the use of exceptions.  The C++ interface defines the <code>rdm_exception</code> class for all interface specific errors.  Expected errors throw a class derived from <code>rdm_exception</code> while unexpected errors throw the base <code>rdm_exception</code> class.  The following example demonstrates how we can use exception handling to verify the type of record a cursor collection contains.  In the try block we attempt to cast a generic Cursor to record specific <code>Cursor_sensor</code>.  The <code>Cursor_sensor</code> copy constructor will instantiate a Cursor_sensor with the Cursor as the template.  The copy constructor will throw an <code>rdm_invalid_type_exception</code> if the Cursor is not a sensor cursor.  Any other type of exception is not handled by the <code>is_sensor</code> function will need to be handled by the caller.</p><pre xml:space="preserve">bool is_sensor(
    Cursor c)
{
    try
    {
        (Cursor_sensor) c;
    }
    catch (rdm_invalid_type_exception e)
    {
        return false;
    }
    return true;
}
</pre>
        <hr MadCap:conditions="Default.ScreenOnly" width="100%" size="0" align="center" />
        <p MadCap:conditions="Default.ScreenOnly" style="font-size: 8pt;"><span class="MyVariablesCopyright">Copyright Â© 2012, Raima Inc. All rights reserved.</span>
        </p>
        <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
        </script>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="../../Default_CSH.htm#CPPUG/cpp-error.htm" style="">Open topic with navigation</a>
        </p>
    </body>
</html>
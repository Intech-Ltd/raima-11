<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="Installation Guide and Release Notes" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" lang="en-us" xml:lang="en-us" MadCap:PathToHelpSystem="../../" MadCap:HelpSystemFileName="Default.xml" MadCap:SearchType="Stem">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Compiling and Linking Guide</title>
        <link rel="icon" type="image/png" href="http://docs.raima.com/favicon.png" />
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/raima.css" rel="stylesheet" />
        <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="../../Default_CSH.htm#GS/CompileLink.htm" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><span class="MCBreadcrumbsSelf">Installation Guide and Release Notes</span><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Compiling and Linking Guide</span>
        </div>
        <h1 class="firstHeading"><a MadCap:generatedBookmark="TOC" name="Compiling_and_Linking_Guide"></a>Compiling and Linking Guide</h1>
        <h2><a MadCap:generatedBookmark="TOC" name="Overview_..27"></a>Overview</h2>
        <p>This is a quick reference section showing the essential pieces needed to integrate <span class="MyVariablesProductShortName">RDM</span> into your development environment. The examples provided in your installation will be using the information in this section.</p>
        <p>Assume for the remainder of this section, that you have installed <span class="MyVariablesProductShortName">RDM</span> into the following directory:</p><pre xml:space="preserve">/opt/Raima/<span class="MyVariablesProductShortName">RDM</span>_<span class="MyVariablesMajorVersion">11</span>.<span class="MyVariablesMinorVersion">0</span>/</pre>
        <p>Or, on&#160;Windows:</p><pre xml:space="preserve">C:\Raima\<span class="MyVariablesProductShortName">RDM</span><span class="MyVariablesMajorVersion">11</span>.<span class="MyVariablesMinorVersion">0</span>\ </pre>
        <p>Any C or C++ file that references <span class="MyVariablesProductShortName">RDM</span> functions must include header file(s) from <code>[install dir]/include</code>.</p>
        <p>When compiling C or C++ programs containing references to&#160;<span class="MyVariablesProductShortName">RDM</span> functions, a constant must be defined on the compiler command-line to identify your development platform.</p>
        <p>When linking your object code, <span class="MyVariablesProductShortName">RDM</span> libraries must be referenced to resolve the external references. These will be found in <code>[install dir]/<i>yourplatform</i>/lib</code>.</p>
        <p>As the headers, constants and libraries vary by installation platform, these will be covered in individual sections below.</p>
        <h2><a MadCap:generatedBookmark="TOC" name="Naming_Conventions"></a>Naming Conventions</h2>
        <p>The development systems on different installation platforms have different library naming conventions. The conventions are discussed in <a href="distrib.htm#Library">Library Naming Conventions</a>. In this section, only the base names for the libraries will be used.</p>
        <h2><a MadCap:generatedBookmark="TOC" name="API&#160;Groupings"></a>API&#160;Groupings</h2>
        <img src="../Resources/Images/rdm_dependencies.png" title="RDM Dependency Graph" style="clear: right;vertical-align: middle;float: right;" />
        <p>Functional groups of <span class="MyVariablesProductShortName">RDM</span> functions are grouped by API&#160;prefixes. All functions with a common prefix will be found in the same library. The libraries that satisfy the API also depend on other libraries. Typically, linking against the <i>direct functional group</i> (shown in red) is all that is required, however on some platforms, <strong>all</strong> dependencies underneath must be linked against.</p>
        <p>The runtime must always be linked against the tfs. This can be either the tfss, tfsr, or tfst, with the tfsr as the default. Each library has the name "tfs", but are stored in different subdirectories by type. Note that each tfs type has different sub-dependencies.</p>
        <p>&#160;</p>
        <p class="Caption">&#160;</p>
        <p>&#160;</p>
        <p class="Caption">RDM Functional Group Libraries</p>
        <p>
            <img src="../Resources/Images/rdm_functional_group.png" title="RDM Functional Group" />
        </p>
        <table style="width: 100%;border-left-style: solid;border-left-width: 1px;border-left-color: #c0c0c0;border-right-style: solid;border-right-width: 1px;border-right-color: #c0c0c0;border-top-style: solid;border-top-width: 1px;border-top-color: #c0c0c0;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #c0c0c0;margin-left: 0;margin-right: auto;">
            <col style="width: 204px;" />
            <col style="width: 142px;" />
            <col style="width: 119px;" />
            <col />
            <thead>
                <tr>
                    <th>Functional Group</th>
                    <th>Prefix</th>
                    <th>header</th>
                    <th>
                        <p>libraries (and libraries they depend on)</p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Core Database</td>
                    <td>d_</td>
                    <td>rdm.h</td>
                    <td>rdm (tfs, base, psp)</td>
                </tr>
                <tr>
                    <td>XML&#160;import and export</td>
                    <td>imp_, exp_</td>
                    <td>rdm.h</td>
                    <td>xml (rdm, tfs, base, psp)</td>
                </tr>
                <tr>
                    <td>Utilities</td>
                    <td>d_<i>utilityname</i></td>
                    <td>rdm.h</td>
                    <td>util (rdm, tfs, base, psp)</td>
                </tr>
                <tr>
                    <td>HTTP&#160;parameter handling</td>
                    <td>http_</td>
                    <td>rdmhttp.h</td>
                    <td>http (psp, base, transport)</td>
                </tr>
                <tr>
                    <td>SQL</td>
                    <td>SQL</td>
                    <td>sql.h</td>
                    <td>msql (rdm, psp)</td>
                </tr>
                <tr>
                    <td>Data Flow Control</td>
                    <td>d_dbrep_</td>
                    <td>mirutils.h</td>
                    <td>datamove (rdm)</td>
                </tr>
                <tr>
                    <td>Replication Startup</td>
                    <td>d_dbrep_init</td>
                    <td>mirutils.h</td>
                    <td>replication (miradmin, datamove, )</td>
                </tr>
                <tr>
                    <td>SQL&#160;Replication Startup</td>
                    <td>d_dbrepsql_init</td>
                    <td>mirutils.h</td>
                    <td>replicationsql (datamove, rdm)</td>
                </tr>
                <tr>
                    <td>Mirroring Control</td>
                    <td>d_dbmir_init</td>
                    <td>mirutils.h</td>
                    <td>mirroring (miradmin, tfs, datamove, base, psp)</td>
                </tr>
            </tbody>
        </table>
        <h4><a MadCap:generatedBookmark="TOC" name="Main_Function_Dependencies"></a>Main Function Dependencies</h4>
        <p>Several utilities have <code>_main()</code> functions available for use in addition to the core functional group API libraries. To use these functions, you need to include the correct utility library, and possibly it's dependent libraries, depending on platform.</p>
        <table style="width: 100%; border-left-style: none; border-left-width: 0px; border-right-style: none; border-right-width: 0px; border-top-style: none; border-top-width: 0px; border-bottom-style: none; border-bottom-width: 0px;">
            <tbody>
                <tr>
                    <td>
                        <p class="Caption">DB Import &amp; Export Libraries</p>
                    </td>
                    <td>
                        <p class="Caption">Replication &amp; Mirroring Libraries</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <img src="../Resources/Images/exp_imp_depen.png" />
                    </td>
                    <td>
                        <img src="../Resources/Images/rep_depen.png" title="Replication &amp; Mirroring" />
                    </td>
                </tr>
            </tbody>
        </table>
        <h2><a MadCap:generatedBookmark="TOC" name="Compile_and_Link_Commands"></a>Compile and Link Commands</h2>
        <p>The following table shows what is needed to compile and find&#160;<span class="MyVariablesProductShortName">RDM</span> binaries and libraries on the system where they are installed. The constant is needed in the compile command-line, and the library directory in the linker command-line. Sections following the table will demonstrate their use.</p>
        <table style="width: 100%; border-collapse: collapse; margin-left: 0; margin-right: auto;" class="errcode_table">
            <col style="width: 178px;" />
            <col style="width: 157px;" />
            <col />
            <thead>
                <tr>
                    <th>Installation Platform</th>
                    <th>Binary/Library directories</th>
                    <th>Compile with defined Constant</th>
                </tr>
            </thead>
            <tbody>
                <tr style="height: 9px;">
                    <td>Linux 32-bit</td>
                    <td>lnx</td>
                    <td>LINUX_X86</td>
                </tr>
                <tr style="height: 9px;">
                    <td>Linux 64-bit</td>
                    <td>lnx64</td>
                    <td>LINUX_X64</td>
                </tr>
                <tr>
                    <td>Windows 32-bit</td>
                    <td>win32</td>
                    <td>WINDOWS_X86</td>
                </tr>
                <tr>
                    <td>Windows 64-bit</td>
                    <td>win64</td>
                    <td>WINDOWS_X64</td>
                </tr>
                <tr>
                    <td>Free BSD 32-bit</td>
                    <td>fbsd</td>
                    <td>FREEBSD_X86</td>
                </tr>
                <tr>
                    <td>Free BSD 64-bit</td>
                    <td>fbsd64</td>
                    <td>FREEBSD_X64</td>
                </tr>
                <tr>
                    <td>HPUX 32-bit (PA-RISC)</td>
                    <td>hpux</td>
                    <td>HPUX_PARISC_32</td>
                </tr>
                <tr>
                    <td>HPUX 32-bit (Itanium)</td>
                    <td>hpia</td>
                    <td>HPUX_ITANIUM_32</td>
                </tr>
                <tr>
                    <td>HPUX 64-bit (PA-RISC)</td>
                    <td>hpux64</td>
                    <td>HPUX_PARISC_64</td>
                </tr>
                <tr>
                    <td>HPUX 64-bit (Itanium)</td>
                    <td>hpia64</td>
                    <td>HPUX_ITANIUM_64</td>
                </tr>
                <tr>
                    <td>Solaris 32-bit (Intel)</td>
                    <td>isol</td>
                    <td>SOLARIS_X86</td>
                </tr>
                <tr>
                    <td>Solaris 32-bit (Sparc)</td>
                    <td>sol</td>
                    <td>SOLARIS_SPARC_32</td>
                </tr>
                <tr>
                    <td>Solaris 64-bit (Intel)</td>
                    <td>isol64</td>
                    <td>SOLARIS_X64</td>
                </tr>
                <tr>
                    <td>Solaris 64bit (Sparc)</td>
                    <td>sol64</td>
                    <td>SOLARIS_SPARC_64</td>
                </tr>
                <tr>
                    <td>OSX&#160;64-bit (Intel)</td>
                    <td>osx64</td>
                    <td>OSX_X64</td>
                </tr>
                <tr>
                    <td>iOS (ARM)</td>
                    <td>ios</td>
                    <td>IPHONE_ARM</td>
                </tr>
                <tr>
                    <td>iOS Simulator (Intel)</td>
                    <td>ios_sim</td>
                    <td>OSX_X86</td>
                </tr>
                <tr>
                    <td>Neutrino 32-bit (x86)</td>
                    <td>neux86</td>
                    <td>NEUTRINO_X86</td>
                </tr>
                <tr>
                    <td>VxWorks 32bit (x86)</td>
                    <td>vx6x86</td>
                    <td>VXWORKS_X86</td>
                </tr>
                <tr>
                    <td>VxWorks 32bit (SH4)</td>
                    <td>vx6sh4</td>
                    <td>VXWORKS_SH7750</td>
                </tr>
            </tbody>
        </table>
        <p>The following sections show prototype compile and link statements for the various installation platforms for <span class="MyVariablesProductShortName">RDM</span> version 10. They each compile a file called <code>myprog.c</code> (which uses the <code>d_</code> API) to create an object file which is linked with the <code>rdm</code> library to create an executable file named <code>myprog</code>.</p>
        <p class="Heading">Free BSD&#160;32-bit</p><pre xml:space="preserve">gcc -m32 -std=c99 -D_REENTRANT -c -fPIC -DFREEBSD_X86 -I<span class="MyVariablesInstallHome">/Raima/RDM/</span>include myprog.c
gcc -m32 -o myprog myprog.o -L<span class="MyVariablesInstallHome">/Raima/RDM/</span>lib/fbsd/ -l<code>rdmrdm<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmtfs<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmtransport<span class="MyVariablesLibraryVersion">11</span></code>
    -l<code>rdmbase<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmpsp<span class="MyVariablesLibraryVersion">11</span></code></pre>
        <p class="Heading">Free BSD&#160;64-bit</p><pre xml:space="preserve">gcc -m64 -std=c99 -D_REENTRANT -c -O -fPIC -DFREEBSD_X64 -I<span class="MyVariablesInstallHome">/Raima/RDM/</span>include myprog.c
gcc -m64 -o myprog myprog.o -L<span class="MyVariablesInstallHome">/Raima/RDM/</span>lib/fbsd64/ -l<code>rdmrdm<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmtfs<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmtransport<span class="MyVariablesLibraryVersion">11</span></code>
    -l<code>rdmbase<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmpsp<span class="MyVariablesLibraryVersion">11</span></code><br /></pre>
        <p class="Heading">Linux 32-bit</p><pre xml:space="preserve">gcc -m32 -std=c99 -D_GNU_SOURCE -D_REENTRANT -Wall -c -O -DLINUX_X86 -I<span class="MyVariablesInstallHome">/Raima/RDM/</span>include myprog.c
gcc -m32 -o myprog myprog.o -L<span class="MyVariablesInstallHome">/Raima/RDM/</span>lib/lnx/ -l<code>rdmrdm<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmtfs<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmtransport<span class="MyVariablesLibraryVersion">11</span></code>
    -l<code>rdmbase<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmpsp<span class="MyVariablesLibraryVersion">11</span></code></pre>
        <p class="Heading">Linux 64-bit</p><pre xml:space="preserve">gcc -m64 -std=c99 -D_GNU_SOURCE -D_REENTRANT -fPIC -Wall -c -O -DLINUX_X64
    -I<span class="MyVariablesInstallHome">/Raima/RDM/</span>include myprog.c<br />gcc -m64 -o myprog myprog.o  -L<span class="MyVariablesInstallHome">/Raima/RDM/</span>lib/lnx64/ -l<code>rdmrdm<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmtfs<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmtransport<span class="MyVariablesLibraryVersion">11</span></code>
    -l<code>rdmbase<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmpsp<span class="MyVariablesLibraryVersion">11</span></code></pre>
        <p class="Heading">Neutrino 32-bit x86</p><pre xml:space="preserve">qcc -V gcc_ntox86 -c -O -DRELEASE -oneux86/myprog.o -DNEUTRINO_X86 -I<span class="MyVariablesInstallHome">/Raima/RDM/</span>include myprog.c
ntox86-ar -cr myprog.a myprog.o</pre>
        <p class="Heading">OSX-64-bit</p><pre xml:space="preserve">gcc -arch x86_64 -mmacosx-version-min=10.5 -c -O -DOSX_X64 -I<span class="MyVariablesInstallHome">/Raima/RDM/</span>include myprog.c<br />gcc -arch x86_64 -mmacosx-version-min=10.5 -o myprog myprog.o -L<span class="MyVariablesInstallHome">/Raima/RDM/</span>lib/osx64/
    -l<code>rdmrdm<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmtfs<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmtransport<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmbase<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmpsp<span class="MyVariablesLibraryVersion">11</span></code></pre>
        <p class="Heading">Solaris 32-bit</p><pre xml:space="preserve">cc -mt -c -O -KPIC -DSOLARIS_X86 -I<span class="MyVariablesInstallHome">/Raima/RDM/</span>include myprog.c<br />cc -xildoff -mt -o myprog myprog.o -L<span class="MyVariablesInstallHome">/Raima/RDM/</span>lib/isol/ -l<code>rdmrdm<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmtfs<span class="MyVariablesLibraryVersion">11</span></code>
   -l<code>rdmtransport<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmbase<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmpsp<span class="MyVariablesLibraryVersion">11</span></code></pre>
        <p class="Heading">Solaris 64-bit</p><pre xml:space="preserve">cc -xarch=amd64 -mt -c -O -KPIC -DSOLARIS_X64 -I<span class="MyVariablesInstallHome">/Raima/RDM/</span>include myprog.c<br />cc -xildoff -mt -xarch=amd64 -o myprog myprog.o -L<span class="MyVariablesInstallHome">/Raima/RDM/</span>lib/isol64/ -l<code>rdmrdm<span class="MyVariablesLibraryVersion">11</span></code>
   -l<code>rdmtfs<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmtransport<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmbase<span class="MyVariablesLibraryVersion">11</span></code> -l<code>rdmpsp<span class="MyVariablesLibraryVersion">11</span></code></pre>
        <p class="Heading">Windows 32-bit</p><pre xml:space="preserve">cl -nologo -MD -c -Ox /D_CRT_SECURE_NO_DEPRECATE /D_CRT_NONSTDC_NO_DEPRECATE /DWINDOWS_X86
   /I<span class="MyVariablesInstallHomeW">C:\Raima\RDM\</span>include myprog.c<br />link -nologo -out:myprog.exe myprog.obj /LIBPATH:<span class="MyVariablesInstallHomeW">C:\Raima\RDM\</span>lib\win32 <code>rdmrdm<span class="MyVariablesLibraryVersion">11</span></code>.lib
     <code>rdmtfs<span class="MyVariablesLibraryVersion">11</span></code>.lib <code>rdmtransport<span class="MyVariablesLibraryVersion">11</span></code>.lib <code>rdmbase<span class="MyVariablesLibraryVersion">11</span></code>.lib <code>rdmpsp<span class="MyVariablesLibraryVersion">11</span></code>.lib</pre>
        <p class="Heading">Windows 64-bit</p><pre xml:space="preserve">cl -nologo -MD -c -Ox myprog.obj /D_CRT_SECURE_NO_DEPRECATE /D_CRT_NONSTDC_NO_DEPRECATE
   /DWINDOWS_X64 /I<span class="MyVariablesInstallHomeW">C:\Raima\RDM\</span>include myprog.c<br />link -nologo -out:myprog.exe myprog.obj /LIBPATH:<span class="MyVariablesInstallHomeW">C:\Raima\RDM\</span>lib\win64 <code>rdmrdm<span class="MyVariablesLibraryVersion">11</span></code>.lib
     <code>rdmtfs<span class="MyVariablesLibraryVersion">11</span></code>.lib <code>rdmtransport<span class="MyVariablesLibraryVersion">11</span></code>.lib <code>rdmbase<span class="MyVariablesLibraryVersion">11</span></code>.lib <code>rdmpsp<span class="MyVariablesLibraryVersion">11</span></code>.lib</pre>
        <p class="Heading">VxWorks 32-bit x86</p><pre xml:space="preserve">ccpentium -DTASK_DEFN -DNO_ENCRYPTION -DNO_PREPRO -IC:\WindRiver\vxworks-6.4/target/h
   -IC:\WindRiver\gnu\3.4.4-vxworks-6.4/x86-win32/lib/gcc/i586-wrs-vxworks/3.4.4/include
   -IC:\WindRiver\vxworks-6.4/target/h/wrn/coreip -nostdinc -DCPU=PENTIUM3 -DTOOL_FAMILY=gnu   
   -DTOOL=gnule -DRW_MULTI_THREAD -D_REENTRANT -DVXWORKS_X86
   -DPSP_STARTUP_HOOK="chdir(\"/RAM\");" -nostdlib -DNO_PREPRO -DNEED_SETUP_DATABASE -c -O0
   -DRELEASE -ovx6x86\myprog.o -DVXWORKS_X86 -I<span class="MyVariablesInstallHomeW">C:\Raima\RDM\</span>include myprog.c
arpentium -cr myprog.a myprog.o</pre>
        <p class="Heading">VxWorks 32-bit SH4</p><pre xml:space="preserve">ccsh -DTASK_DEFN -DNO_ENCRYPTION -DNO_PREPRO
   -IC:\WindRiver\gnu\3.4.4-vxworks-6.4/x86-win32/lib/gcc/sh-wrs-vxworks/3.4.4/include
   -IC:\WindRiver\vxworks-6.4/target/h/wrn/coreip -nostdinc -DCPU=SH7750 -m4 -ml
   -DTOOL_FAMILY=gnu -DTOOL=gnule -DRW_MULTI_THREAD -D_REENTRANT -DVXWORKS_SH7750
   -DPSP_STARTUP_HOOK="chdir(\"/CF\");" -nostdlib -DNO_PREPRO
   -DNEED_SETUP_DATABASE -C -O0 -DRELEASE -ovx6sh4\myprog.o -DVXWORKS_SH7750
   -I<span class="MyVariablesInstallHomeW">C:\Raima\RDM\</span>include myprog.c
arsh -cr myprog.a myprog.o</pre>
        <hr MadCap:conditions="Default.ScreenOnly" width="100%" size="0" align="center" />
        <p MadCap:conditions="Default.ScreenOnly" style="font-size: 8pt;"><span class="MyVariablesCopyright">Copyright © 2012, Raima Inc. All rights reserved.</span>
        </p>
        <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
        </script>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="../../Default_CSH.htm#GS/CompileLink.htm" style="">Open topic with navigation</a>
        </p>
    </body>
</html>
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="TFS Configuration &amp; Extension API" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" lang="en-us" xml:lang="en-us" class="" MadCap:PathToHelpSystem="../../" MadCap:HelpSystemFileName="Default.xml" MadCap:SearchType="Stem">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>TFS&#160;Configuration Settings</title>
        <link rel="icon" type="image/png" href="http://docs.raima.com/favicon.png" />
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/fncSummary.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/raima.css" rel="stylesheet" />
        <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="../../Default_CSH.htm#TFS/ChapterINI.htm" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="dbTFSUG.htm">TFS Configuration &amp; Extension API</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">TFS Configuration Settings</span>
        </div>
        <h1 class="firstHeading">TFS&#160;Configuration Settings</h1>
        <p>Aspects of the runtime environment of <span class="MyVariablesProductShortName">RDM</span> can be configured using a configuration file, or programmatically through the API. The TFS environment can be configured using configuration files, through environment variables, or on utility command-lines. Variables set in the environment take precedence over variables set in the configuration file variables set programmatically, or on a command-line will take the highest precedence.</p>
        <p>The TFS configuration affects the behavior of the TFS (tfserver) and the other utilities that have direct access to the files in the document root. There is a global configuration file, <code>tfs.ini</code>, kept in the document root of the TFS, that applies to all databases stored within the document root. Each database may also have its own configuration file for database specific settings related to mirroring and replication.</p>
        <p>These parameters affect the databases regardless of the property name settings of the runtimes, since TFS&#160;configuration properties must apply to all users of the databases.</p>
        <p>The <code>tfs.ini </code>and <code>dbname.ini</code> files may contain the same property name/value pairs, and the database-specific file has priority. The priority of the property name values are as follows:</p>
        <ul>
            <li value="1">If the <code><i>dbname</i>/<i>dbname</i>.ini</code> exists, and if the property name is specified, use this value,</li>
            <li value="2">Else if <code>tfs.ini</code> exists, and if the property name is specified, use this value,</li>
            <li value="3">Else use the default value (shown below).</li>
        </ul>
        <p>The following example shows the potential placement of configuration files:</p><pre xml:space="preserve">c:\RDM\databases
    <b>tfs.ini</b>
    phlist\
        <b>phlist.ini</b>
        ... (other database files)
    tfs.corporate.com-<span class="MyVariablesDefaultPort">21553</span>\
        phlist\
        ... (other database files)
    mkt\
        ... (other database files)
    tims\
        <b>tims.ini</b>
        ... (other database files)</pre>
        <p>This example shows two databases that have their own configuration files, <code>phlist</code> and <code>tims</code>. Two databases have none, <code>tfs.corporate.com-<span class="MyVariablesDefaultPort">21553</span>/phlist</code> and <code>mkt</code>. Since there is a <code>tfs.ini</code> file in the document root, any property names that do not exist in the database directories will be obtained from this file.</p>
        <p class="Heading"><a name="Environm"></a>Environment Variables</p>
        <table style="width: 100%;border-left-style: solid;border-left-width: 1px;border-left-color: #c0c0c0;border-right-style: solid;border-right-width: 1px;border-right-color: #c0c0c0;border-top-style: solid;border-top-width: 1px;border-top-color: #c0c0c0;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #c0c0c0;border-collapse: collapse;margin-left: 0;margin-right: auto;mc-table-style: url('../Resources/TableStyles/fncSummary.css');" class="TableStyle-fncSummary" cellspacing="0">
            <col style="width: 142px;" class="Column-Column1" />
            <col class="Column-Column2" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Variable Name</th>
                    <th class="HeadD-Column2-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">RDM_DOCROOT</td>
                    <td class="BodyD-Column2-Body1">In the absence of a command-line specification of the document root (<code>-d</code> option), tell <code>tfserver</code>, <code>dbmirror</code>, <code>dbrep</code> or <code>dbrepsql</code> to use this directory instead of the current directory for the document root.<a href="../RM/api/d_dbuserid.htm">&#160;</a></td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1">RDM_TFSERVER</td>
                    <td class="BodyA-Column2-Body1">In the absence of a command-line specification of the host name and port number the runtime can locate the TFS&#160;to connect to using the contents of this variable:<br /><br /><code>RDM_TFSERVER=localhost:<span class="MyVariablesDefaultPort">21553</span></code></td>
                </tr>
            </tbody>
        </table>
        <p class="Heading">Configuration File (tfs.ini, <i>dbname</i>.ini)</p>
        <div class="thumb">The <span class="MyVariablesProductShortName">RDM</span> TFS&#160;configuration file follows the standard formatting for INI text files (See <a href="http://en.wikipedia.org/wiki/INI_file" target="_blank">Wikipedia</a>). An INI file can hold a number of sections, each section consist of a section name enclosed in bracket followed by a number of properties. Each property consists of a name followed by an equal sign and a value.  A semicolon marks the beginning of a comment that continues to the end of the line. Section names and variable names will be case insensitive.</div>
        <p>Unrecognized section names and properties as well as properties appearing in the wrong sections will be ignored by the system. Only two sections, <code>[configuration]</code> and <code>[LogCleanup]</code>, are used by the TFS.</p>
        <p>The function <a href="../RM/api/d_dbsetini.htm">d_dbsetini</a> has been provided to set the database-specific values when a database is open in exclusive mode. To programmatically set  the <code>tfs.ini</code> values, you must use the <code>psp_iniSet</code> function.</p>
        <p>Since the configuration files are simple text files, it is possible to create and edit them with common text editors. Update access to the document root is required.</p>
        <p>The currently supported properties and associated section names are located in the table below.</p><pre xml:space="preserve">[configuration]

    ; The following settings are only read from tfs.ini and apply to all databases

    ; Maximum number of users connected to the TFS, between 16 and 1000, defaults to 256
    maxusers=256

    ; Maximum number of files per database, between 16 and 65535, defaults to 4096
    maxfiles=4096


    ; The following settings can appear in either tfs.ini or dbname.ini

    ; Set to 1 (on) to enable sorting based on system locale, default is 0 (off).
    use_string_locale=0

    ; Set to 0 (off) to disable file syncing to disk.  This will improve performance
    ; but at a risk of data loss. Default is 1 (on).
    synclogfiles=1

    ; Specify the type of compression to be used for log files. 
    ; Compression types:
    ;    none  :  No compression
    ;    zero  :  Compress zeros (default)
    logfile_compression=zero


    ; Enable replication.  0=off (default) and 1=on.  Enabling this property
    ; will cause the runtime to generate replication log files for use
    ; in a replicated environment.
    replication=0

    ; Enable mirroring.  0=off (default) and 1=on.  Enabling this property
    ; will cause the TFS to generate mirroring log files for use
    ; in a mirrored environment.
    mirroring=0

    ; The number of milliseconds delay between checkpoint operations for a
    ; database (default is 1000 ms for disk based databases and 100 ms for
    ; in memory databases).
    checkpoint_frequency=1000

    ; Set to 0 to disable single slave mode, when you have more than one
    ; slave connected to a single master.  Single slave mode optimizes 
    ; log file cleanup when there is only one slave.  This option is enabled by default
    ; and will automatically be disabled if a second slave is detected.
    SingleSlaveMode=1


[LogCleanup]
    ; LogCleanup settings are used to specify when log files can be removed to
    ; prevent the disk from filling up during the mirroring or replication activity.

    ; LogFileAge specifies when a log file can be removed base on file date and time. 
    ; If the log file's age is greater than the specified value, it will be removed.
    ; Values can be specified as s (seconds), m (minutes), h (hours), d (days).  
    ; Care should be used when specifying a value in seconds as a value too small 
    ; may cause log files to be cleaned up before they have a chance to mirror to the slave.
    ; (examples: 30s | 10m | 2h | 1d). 
    ; If no unit character is specified, minutes will be assumed.  
    ; Default is 10 minutes. 
    LogFileAge=10m

    ; LogFileSpace specifies the amount of disk space that can be used by log files.
    ; Space is calculated per database.  If the total size of all log files is 
    ; greater than this value, they will be removed (oldest first).  Values can be
    ; specified as k (kilobytes), m (megabytes), g (gigabytes). 
    ; (ex: 500k | 100m | 1g). If no unit character is specified, kilobytes will 
    ; be assumed. 
    LogFileSpace=0
</pre>
        <hr MadCap:conditions="Default.ScreenOnly" width="100%" size="0" align="center" />
        <p MadCap:conditions="Default.ScreenOnly" style="font-size: 8pt;"><span class="MyVariablesCopyright">Copyright © 2012, Raima Inc. All rights reserved.</span>
        </p>
        <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
        </script>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="../../Default_CSH.htm#TFS/ChapterINI.htm" style="">Open topic with navigation</a>
        </p>
    </body>
</html>
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="Native API|Reference Manual|Core API Function Descriptions" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" lang="en-us" xml:lang="en-us" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="Default.xml" MadCap:SearchType="Stem">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>exp_xmlgetownertypes</title>
        <link rel="icon" type="image/png" href="http://docs.raima.com/favicon.png" />
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/FunctionArgs.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/CoreErrCodes.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/raima.css" rel="stylesheet" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="../../../Default_CSH.htm#RM/api/exp_xmlgetownertypes.htm" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="../../dbCore.htm">Native API</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../dbRM.htm">Reference Manual</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../Chapter33.htm">Core API Function Descriptions</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">exp_xmlgetownertypes</span>
        </div>
        <h3 class="newpage"><a name="kanchor135"></a>exp_xmlgetownertypes</h3>
        <p>Get a list of record types that will be read from the database when the specified record is exported</p>
        <p class="Heading">Prototype</p><pre xml:space="preserve">int32_t <b>exp_xmlgetownertypes</b>(
    int32_t         *<i>nownertypes</i>, 
    int32_t        **<i>ownertypes</i>, 
    int32_t          <i>rectype</i>, 
    DB_ADDR          <i>addr</i>, 
    const DB_EXPENV *<i>env</i>);</pre>
        <p class="Heading">Parameters</p>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/FunctionArgs.css');margin-left: 0;margin-right: auto;" class="TableStyle-FunctionArgs" cellspacing="0">
            <col style="width: 140px;" class="Column-Column1" />
            <col style="width: 80px;" class="Column-Column3" />
            <col class="Column-Column2" />
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">nownertypes</td>
                    <td class="BodyE-Column3-Body1">(output)</td>
                    <td class="BodyD-Column2-Body1">number of array elements returned in <code>ownertypes</code> – the caller may pass NULL if this result is not required</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">ownertypes</td>
                    <td class="BodyE-Column3-Body1">(output)</td>
                    <td class="BodyD-Column2-Body1">pointer to array of record type constants listing the owner record types that will be accessed by <a href="exp_xmlrec.htm">exp_xmlrec</a> – the caller may pass NULL if this result is not required.</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">rectype</td>
                    <td class="BodyE-Column3-Body1">(input)</td>
                    <td class="BodyD-Column2-Body1">record type of record to export, or zero</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">addr</td>
                    <td class="BodyE-Column3-Body1">(input)</td>
                    <td class="BodyD-Column2-Body1">database address of record to export, or NULL_DBA</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1">env</td>
                    <td class="BodyB-Column3-Body1">(input)</td>
                    <td class="BodyA-Column2-Body1">export state data</td>
                </tr>
            </tbody>
        </table>
        <p class="Heading">Description</p>
        <p>This function returns a list of the record types that will be accessed when <code>exp_xmlrec</code> is called. Besides the record type of the record instance being exported, some owner record types may also be accessed.</p>
        <p>Set connections in the XML generated by <code>exp_xmlrec</code> are represented through relational-style references to the owner record instances. When a unique key exists in the owner record type, this is used for relational references. Otherwise the rowid of the owner instance is used.</p>
        <p>Owner record instances that are identified by rowid in the XML output do not need to be accessed by <code>exp_xmlrec</code>, as the rowid value can be generated from set pointer information contained in the member record. However, owner record instances that are identified by unique keys do need to be accessed, in order to read the key values.</p>
        <p>The value of the <code>addr</code> parameter may be NULL_DBA. In this case rectype must be non-zero, and the list of owner record types returned in <code>ownertypes</code> will contain all record types that are defined as possible owners of rectype in the database definition.</p>
        <p>If the value of addr is not NULL_DBA then <code>rectype</code> will be ignored, and the list of owner record types returned in <code>ownertypes</code> will include only those record types that the record at address <code>addr</code> is actually connected to.</p>
        <p class="Notes">Note that the list returned in <code>ownertypes</code> does not include the record type of the exported record itself (unless it is the owner of a recursive set).</p>
        <p class="Heading">User's Guide</p>
        <p><a href="../../UG/Chapter10.htm#10.2.3">XML Export</a>
        </p>
        <p class="Heading">Required Headers</p><pre xml:space="preserve">#include "rdm.h"
#include "expxml.h"</pre>
        <p class="Heading">Libraries</p>
        <table style="width: 100%; margin-left: 0; margin-right: auto;">
            <col style="width: 200px;" />
            <col />
            <thead>
                <tr>
                    <th>Library Name</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>rdmxml<span class="MyVariablesLibraryVersion">11</span></code>
                    </td>
                    <td><span class="MyVariablesProductShortName">RDM</span> XML&#160;Library</td>
                </tr>
            </tbody>
        </table>
        <p>See <a href="../../GS/distrib.htm#Library">Library Naming Conventions</a> section for full library name and a list of library dependencies.</p>
        <p class="Heading">Return Codes</p>
        <table class="TableStyle-CoreErrCodes" cellspacing="0" style="mc-table-style: url('../../Resources/TableStyles/CoreErrCodes.css');">
            <col class="Column-Column1" />
            <col class="Column-Column2" />
            <col class="Column-Column3" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Value</th>
                    <th class="HeadE-Column2-Header1">Name</th>
                    <th class="HeadD-Column3-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1">0</td>
                    <td class="BodyB-Column2-Body1">S_OKAY</td>
                    <td class="BodyA-Column3-Body1">normal return, okay</td>
                </tr>
            </tbody>
        </table>
        <table class="TableStyle-CoreErrCodes" cellspacing="0" style="mc-table-style: url('../../Resources/TableStyles/CoreErrCodes.css');">
            <col class="Column-Column1" />
            <col class="Column-Column2" />
            <col class="Column-Column3" />
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1">-1</td>
                    <td class="BodyB-Column2-Body1">S_DBOPEN</td>
                    <td class="BodyA-Column3-Body1">database not opened</td>
                </tr>
            </tbody>
        </table>
        <table class="TableStyle-CoreErrCodes" cellspacing="0" style="mc-table-style: url('../../Resources/TableStyles/CoreErrCodes.css');">
            <col class="Column-Column1" />
            <col class="Column-Column2" />
            <col class="Column-Column3" />
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1">-3</td>
                    <td class="BodyB-Column2-Body1">S_INVREC</td>
                    <td class="BodyA-Column3-Body1">invalid record</td>
                </tr>
            </tbody>
        </table>
        <table class="TableStyle-CoreErrCodes" cellspacing="0" style="mc-table-style: url('../../Resources/TableStyles/CoreErrCodes.css');">
            <col class="Column-Column1" />
            <col class="Column-Column2" />
            <col class="Column-Column3" />
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1">-904</td>
                    <td class="BodyB-Column2-Body1">S_NOMEMORY</td>
                    <td class="BodyA-Column3-Body1">out of memory</td>
                </tr>
            </tbody>
        </table>
        <p class="Heading">Example</p>
        <p>See <a href="exp_xmlrec.htm">exp_xmlrec</a></p>
        <hr MadCap:conditions="Default.ScreenOnly" width="100%" size="0" align="center" />
        <p MadCap:conditions="Default.ScreenOnly" style="font-size: 8pt;"><span class="MyVariablesCopyright">Copyright © 2012, Raima Inc. All rights reserved.</span>
        </p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="../../../Default_CSH.htm#RM/api/exp_xmlgetownertypes.htm" style="">Open topic with navigation</a>
        </p>
    </body>
</html>